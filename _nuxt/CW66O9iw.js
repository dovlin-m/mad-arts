import{ai as p,m as i,i as m,f as a}from"#entry";import{q as u}from"./xp2YEzKG.js";const e=p("portfolio",()=>{const{locale:o}=i(),t=m({}),c=a(()=>t.value[o.value]?.portfolio??[]),f=a(()=>t.value[o.value]?.mainArtworks??[]);return{data:t,portfolio:c,mainArtworks:f,fetchAllPortfolio:async()=>{const n=await u(o.value,"portfolio").sort({group:1,$numeric:!0}).find();t.value[o.value]={...t.value[o.value],portfolio:n}},fetchMainArtworks:async()=>{const n=await u(o.value,"portfolio").where({id:{$in:["digital"]}}).sort({group:1,$numeric:!0}).find();t.value[o.value]={...t.value[o.value],mainArtworks:n.map(s=>({...s,images:s.images.filter(r=>"important"in r).sort((r,l)=>"important"in r&&"important"in l?(r.important||0)-(l.important||0):0)}))}}}}),k=()=>{const o=e();return a(()=>o.portfolio)},h=()=>{const o=e();return a(()=>o.mainArtworks)},g=()=>{const o=e(),{locale:t}=i();return async()=>(o.data[t.value]?.portfolio?.length||await o.fetchAllPortfolio(),!0)},P=()=>{const o=e(),{locale:t}=i();return async()=>(o.data[t.value]?.mainArtworks?.length||await o.fetchMainArtworks(),!0)};export{h as a,k as b,g as c,P as u};
